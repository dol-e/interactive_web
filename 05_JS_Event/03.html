<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>움직이는 캐릭터 예제로 클릭 이벤트 익히기</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="stage">
    <div class="ilbuni a"></div>
    <div class="ilbuni b"></div>
    <div class="ilbuni c"></div>
  </div>
  <script>
  /************************************** 움직이는 캐릭터 예제로 클릭 이벤트 익히기 *************************************/ 

  (function(){
    const ilbuniGroup = document.querySelectorAll(".ilbuni");
    const stage = document.querySelector(".stage");

    function clickHandler() {
      // console.log(this) // 클릭한 요소가 나온다.

      // stage.removeChild(this); //방법1
      this.parentNode.removeChild(this); //방법2

      // removeChild를 쓰지 않고 this.remove() 이렇게 해도 되는데,
      // 그 다음 클래스에서 이벤트위임을 설명할 때 removeChild라는 메소드를 사용하니까 이 메소드를 사용해볼려고 이렇게 한 것 같다.
      
    }

    for(let i = 0; i < ilbuniGroup.length; i++) {
      ilbuniGroup[i].addEventListener('click', clickHandler);
    }

    /*
    위의 for문을 풀어서 보면 아래와 같이 쓴 것과 같다.
    addEventListener를 여러 번 사용한 것이다.

    ilbuniGroup[0].addEventListener('click', clickHandler);
    ilbuniGroup[1].addEventListener('click', clickHandler);
    ilbuniGroup[2].addEventListener('click', clickHandler);
    */


  })();

  // 위와 같이 여러번 이벤트를 등록하는 방식은 바람직하지 않다.
  // 이 예제에서는 클릭할 요소가 3개밖에 없지만 100개, 1000개가 된다고 가정한다면 메모리를 많이 잡아먹어서 성능에 좋지 않다. 따라서 addEventListener를 사용하는 횟수를 줄여주는 것이 좋다.

  // 이 코드를 다음 페이지에서 이벤트 위임을 사용해서 고쳐볼 것이다.
  
  </script>
</body>
</html>